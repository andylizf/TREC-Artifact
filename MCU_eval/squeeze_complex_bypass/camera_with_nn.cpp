#include "mbed.h"
// #include "stm32746g_discovery_camera.h"
#include "LCD_DISCO_F469NI.h"
// #include "stm32f7xx_hal_dcmi.h"
#include "nn.h"
#include <random>

#ifdef flash
#include "FLASH_SECTOR_F4.h"
#endif

// extern "C" {
//   //defined in stm32746g_discovery_camera.c
//   extern DCMI_HandleTypeDef hDcmiHandler;
//   void DCMI_IRQHandler(void) {
//       HAL_DCMI_IRQHandler(&hDcmiHandler);
//   }
//   void DMA2_Stream1_IRQHandler(void) {
//       HAL_DMA_IRQHandler(hDcmiHandler.DMA_Handle);
//   }
// }

// 2 input channels, as input is in RGB565 format
#define NUM_IN_CH 2
#define NUM_OUT_CH 3
#define IMG_WIDTH 160
#define IMG_HEIGHT 120
#define CNN_IMG_SIZE 32
#define resolution RESOLUTION_R160x120

// uint8_t camera_buffer[NUM_IN_CH*IMG_WIDTH*IMG_HEIGHT] = {0};
// uint8_t input_img[NUM_OUT_CH*CNN_IMG_SIZE*CNN_IMG_SIZE] = 
// q7_t input_img[NUM_OUT_CH*CNN_IMG_SIZE*CNN_IMG_SIZE] = {
// 59, 33, 44, -93, 66, -126, 61, 69, -68, 92, 84, 113, 54, -62, 11, -112, 82, 29, 63, -7, 15, -13, -89, 96, 90, -104, -118, -73, -17, -95, -47, 52, 59, -106, 93, 7, -44, -103, 75, 89, -87, -56, 91, 86, 23, -44, 49, 99, -76, 5, -29, 39, -43, -110, -40, -104, -3, 31, -119, 89, 120, 100, -123, -70, -72, -118, -70, 96, -94, -40, 74, 3, 101, -3, 44, -127, -35, 82, -97, 63, 66, 22, 51, -96, -68, 42, 28, -39, -61, -58, -123, 22, -71, -86, 100, 81, -5, -125, -119, -73, -85, 119, 9, 50, -10, 11, 16, 123, -35, 86, -58, 64, 87, -62, -87, -107, -111, 16, 78, -7, 86, -52, -120, 100, -47, 49, 81, -107, -10, 6, 5, -35, -46, 91, -99, -122, -67, -75, 112, -100, 94, -7, 72, 106, 26, -92, 114, -59, -79, -19, -105, 99, 127, -78, 4, 96, -20, 9, 86, -40, 120, 78, 50, -50, 19, -97, 27, 46, 57, 12, 98, -77, -26, 38, 35, -106, 39, 20, 66, 3, 38, -109, 56, 48, -43, -72, -36, -24, 2, -73, 26, -118, -70, -18, 31, 121, -51, -97, -38, 23, -50, 88, 85, -111, -110, -15, 39, 82, -78, 82, 6, -54, 45, 66, -56, -39, -47, -113, -53, -93, 83, 6, 81, 107, 32, -92, -51, 17, 33, -119, 82, 67, 38, 48, 46, 82, -49, 106, 29, 123, -126, -50, -69, -42, 17, 106, 107, -76, 104, 10, -38, -80, -48, 85, 121, 18, 7, -29, 118, -34, -52, -16, 41, 57, 103, 1, 47, -72, 121, 70, -16, 127, -71, 28, -126, -73, -82, -74, -51, -83, 64, 52, -104, 97, -127, 101, 89, 27, 20, -32, -98, -44, -114, -29, -77, 96, -29, 19, -73, -87, 114, 122, 101, 77, 6, -61, -28, 8, -9, 75, -12, -34, -40, 122, 13, 47, 68, -89, -71, 45, -70, 86, -96, 25, -97, 94, 95, 106, -32, 68, 36, 112, -64, 31, 67, -64, -74, 113, -12, 15, 53, -84, 90, -123, 84, -63, -72, 57, -79, -68, 109, 20, 95, 1, -50, 23, 109, -123, -30, 63, -113, -41, 67, 38, -102, -125, 100, -20, -111, 53, -47, 79, 30, 122, -2, 33, -76, 52, 43, 4, -66, 31, 113, -109, -11, 95, -67, 120, 97, -111, 103, -57, -3, 110, -5, -8, -112, 45, 86, -47, 18, -106, 16, 82, -87, 79, 58, 120, -1, 65, 54, -119, -2, 77, -91, -70, -111, 84, -18, 85, 114, -24, -100, 1, 115, -37, -13, -105, -43, 26, 9, -54, 13, 7, 17, 109, -119, -46, 65, 62, -80, -124, 46, 92, -120, 115, 126, 106, -100, -37, 12, 100, 2, -83, 60, -47, -116, -62, 10, -74, 108, 104, -77, -123, 72, -44, -35, -19, 22, -113, 121, -96, 51, 42, -32, 103, 71, -66, -86, -33, -116, 96, 48, 27, 37, -54, 102, -101, -68, -76, 48, 56, -85, 54, -52, -77, 81, -127, -61, -50, 45, 19, 26, 99, -94, -17, -48, 57, -1, -1, 79, 97, 108, 39, -75, 118, -101, -82, -8, -70, -63, 81, 54, -80, 52, -114, 28, -100, 41, -67, 68, -76, -86, -79, 65, -23, -126, 65, 45, 73, 81, -83, 109, -71, -100, -124, -60, -35, 74, 9, 109, -126, 80, -102, 83, -52, -88, -120, -100, -121, -22, -91, 19, 52, 82, -1, -45, 76, 41, 77, -97, 74, 20, -116, -87, -13, -98, 97, 78, -82, 31, -42, -106, -58, 79, 117, -108, -98, -104, 37, 113, 99, -51, 106, 38, 111, -103, 4, 18, 41, 15, -14, -83, -65, 35, 59, -14, 14, 104, 96, -111, 35, -26, -10, 26, 93, -28, 16, 61, 55, -46, 87, -7, 50, 4, 50, 8, -121, 34, -51, 118, -53, 113, 104, -71, -44, -93, -42, -82, -85, 46, 111, -28, -18, 87, -119, -56, -8, 123, 68, -92, 19, 98, -90, -72, 74, -62, -112, 56, -47, 108, -42, -82, -54, 63, 40, -21, -108, -36, -17, 91, 77, 93, 114, 55, -121, 113, -65, -24, -2, -26, 126, -11, -43, -83, -29, -34, -118, -39, 26, 109, -91, -73, -95, -18, -59, 116, 80, -32, 54, -48, -59, 6, 88, 8, 18, 76, -94, 13, -110, 13, -103, 60, -43, -111, -122, -111, -59, -21, 16, 77, -66, -57, -18, -119, -67, 7, -41, 109, 123, 126, -117, -62, 1, 3, -24, -36, 43, -57, 2, -43, 99, 76, -59, -92, 32, -115, 119, 91, -13, -69, -76, -125, -42, -35, 1, -119, 17, 79, -6, -122, 37, -103, 21, 16, -21, 35, 78, -114, 115, -116, 67, 37, -20, -23, 116, -82, -75, -59, -96, -83, -44, -58, -28, -6, -108, -97, -21, 118, 58, 59, -3, 97, -47, 18, 88, 30, 9, -109, -36, -62, 15, -48, -87, -69, 71, -94, -105, -7, 3, -1, -80, -27, -50, -78, 39, -93, 72, -97, -31, -11, 80, -69, 58, -34, -102, 19, 97, -104, 101, -29, -106, -100, 96, -98, -72, -119, -57, 69, -54, -25, -17, 80, 83, -88, -122, -62, 25, -70, -76, -1, 96, 70, 96, -30, -49, 90, 36, 81, 36, 32, 96, -114, -91, -16, -22, 55, -3, -8, -54, -76, -119, -39, 105, 91, -118, -44, -97, -54, 68, -54, -26, 83, -33, -31, 126, 14, -126, 124, 16, 70, 11, 98, -113, 109, -73, -50, -1, 83, 67, -4, 26, -43, -111, -44, -100, 11, 39, 114, -52, -97, 10, -80, 2, 52, 61, 113, 3, -108, 84, 33, 66, 78, 0, -99, -108, -58, 80, 103, -117, -73, -97, 13, 90, -6, -57, -62, 30, -35, -31, -3, 20, 86, -51, -56, 111, -10, -16, -113, -96, 26, 102, -42, 1, 53, -2, -56, -64, 50, -53, 21, -67, 12, -36, -57, -40, 56, 104, -84, 4, 9, -104, -13, -4, 50, -69, -107, -2, 109, 119, 16, -94, -3, -46, 87, -10, 4, 21, 15, -119, 48, -5, 117, 66, -87, 81, 103, 41, -18, -31, 103, 33, 10, -33, 35, -100, -29, -54, -39, 119, -58, -58, 120, 86, -23, 125, 40, 77, -105, 95, 26, 95, 85, 119, 15, -115, -116, -2, 11, -37, 16, 66, 67, -54, 86, -103, -43, 30, -111, 86, -17, 77, -73, -101, -97, -127, 100, 33, -96, 113, 55, -99, 53, -104, -16, 82, -117, -11, -50, 35, 28, -7, 64, -67, 23, 33, -111, -123, 76, -90, -7, 58, -74, -56, 23, -76, 106, -31, 55, -79, 13, -87, 62, -105, -15, 42, -88, -121, -116, -20, 99, 103, -13, -23, -33, 115, -4, 70, -111, -92, 1, 49, -83, -127, 114, 65, 68, -88, 28, 94, -95, -91, -105, -36, -44, -123, -34, 125, -27, -70, -50, 16, 67, 80, -90, -95, -13, 14, -63, 27, -29, -16, 45, 10, 89, 42, 101, 72, 56, 104, -18, 56, -20, 38, 89, -48, -88, -68, 91, 54, -127, 83, -95, -75, -97, 13, 64, -5, 3, -105, 19, -91, -103, -120, 30, 48, 12, -104, -43, 14, 51, 71, 85, 121, 94, -50, -121, -17, -122, -19, 5, 121, 73, -64, 16, -106, -50, -120, 20, -3, -114, 81, -52, 12, -103, -2, -63, -35, -25, 127, -116, -33, -111, -40, -92, 35, -97, 103, -18, 11, 89, -90, -76, 77, 8, 51, -56, 86, -60, 27, -47, 0, 45, 122, -89, 112, -77, -7, -76, 46, -116, -108, 103, -77, 0, 26, -106, 47, -74, 4, -93, 87, 120, 123, -110, 65, 15, 26, -52, 43, -57, 100, 29, -25, -30, 22, 39, -29, 22, -85, -18, 35, 6, 124, -99, 0, -106, -4, 81, -6, -39, -3, 44, -71, -16, -106, 10, -89, 15, 117, 25, -42, 37, -45, -40, -16, -119, -82, -34, -71, 8, -97, 70, -86, -47, 44, -30, 76, 89, 112, -10, 111, -59, 127, 56, -20, 28, -3, 124, 102, 116, -61, -9, 118, 37, 99, 49, 28, 95, 61, -124, -116, -98, 69, -126, -71, 61, 53, -8, 27, -24, 31, 56, -1, -8, 80, -93, 75, 46, 100, 30, 119, -5, 102, -116, 37, 82, -111, -61, -72, 44, -95, 124, -116, -57, 17, 124, 52, 9, -100, 51, -31, 9, 124, -72, -84, 124, -120, -102, 105, 81, -110, 94, 72, -118, 96, 41, 37, 109, 15, -60, -21, -102, -102, -4, -70, 19, 52, 17, 87, -107, 84, 3, -9, 75, 42, -110, 99, -35, -2, 122, -120, -29, -81, 64, -59, -112, -18, 35, -18, -121, -33, -102, 29, 100, 124, 72, 56, 97, -49, -122, -87, -7, -22, 126, -60, -97, 74, -120, -101, -9, 82, 90, -70, -12, 15, -23, 58, 81, -98, -33, 107, 97, -125, -102, -115, 17, 75, 58, -4, -107, -94, 11, -30, 118, -90, -115, 105, -28, 83, 121, 62, -95, 34, -95, -59, -127, 57, -37, 69, -30, 25, -61, 34, -80, 83, -11, -20, 92, 11, -116, -103, -94, -122, -90, -93, 95, -50, -32, -106, 34, 109, -76, 55, 69, -115, 99, 102, -58, 116, 55, 2, 24, 33, -65, 10, 119, -29, 28, -57, 23, 90, 17, 70, 76, -21, -22, -74, -75, 12, -89, 79, 5, 84, 116, -57, -48, 65, 63, -62, -90, 118, -14, -115, -124, -89, 127, 15, 30, 117, -106, 22, 51, 115, -115, -116, -76, 101, 106, 7, -107, -42, -97, 14, 58, 22, -19, 86, -102, 78, -41, -6, -11, -61, -114, -121, 99, -60, 54, -86, 0, 119, -55, -71, -86, -123, 23, -29, 31, 92, 73, -104, -86, 107, 66, 110, 81, 79, -76, 111, 31, 95, 78, -116, 75, 122, 11, -52, -112, -108, 32, -94, -75, 73, 6, 81, 57, -67, -127, -70, -121, -73, -52, -14, 82, -111, -110, 116, 85, -99, 17, 48, 122, -70, -89, 63, -6, 60, 20, -127, -37, 97, -56, -78, -71, 101, -66, -51, -4, 52, -92, 69, -121, -51, 29, -44, -88, 51, 55, -126, 34, -97, 112, 99, -82, -53, 9, 96, -111, -50, -119, -35, 41, -76, -36, 111, -40, 8, 19, 106, -37, -51, -99, -29, -6, 73, 36, 74, -59, 5, 15, 3, -39, -9, 9, 74, 110, -118, -63, 56, -53, 80, -51, -62, -112, 26, -11, -64, -68, -59, 45, 77, -10, -6, -19, 76, -65, -28, -3, 127, 114, -79, -31, -18, 80, -101, -53, 36, 49, -69, 116, -83, -110, -80, -84, -69, -89, 60, 82, 95, 82, 85, -84, -113, 59, -116, 45, 14, -56, 65, 52, 112, -35, 31, 125, 68, -77, 24, -4, 9, 52, -27, -52, 97, -108, -115, -72, -65, 87, 48, 102, -41, 9, -15, -112, -114, -52, -41, 100, 88, 99, -39, 11, -92, 35, -9, -123, 83, 118, -99, -52, 77, 51, 76, -13, 28, 2, 94, -112, -77, -107, 91, 77, -10, -114, -107, -16, -12, -38, 54, 125, 117, 118, 81, 80, 60, 12, 86, -52, -39, 38, -37, -100, 1, -11, 26, 46, -19, 84, 104, 52, 123, -28, 79, 72, -60, 8, -69, -50, -48, -52, -51, 53, 60, 48, 35, -113, 3, 21, 66, -99, -125, 10, -62, 51, 115, -83, -30, -13, -56, -77, -84, 61, 80, -48, 115, -25, 69, -77, 48, -118, 109, 96, 82, 101, 113, 125, -16, 115, 96, -61, -25, -68, 12, 10, -25, 124, -83, 99, 60, 109, 11, -96, -33, 109, 45, -124, 95, 31, 99, -98, -3, -107, -123, -89, -19, -117, 57, -67, -110, 46, 119, -108, -41, -81, 8, -15, -103, -69, 25, -1, 49, 39, 92, 89, -125, 36, 17, -32, -34, 110, 117, -60, -69, -30, -81, -85, 119, -102, -22, -11, 100, 26, 48, -41, -34, -30, 39, -10, 52, 36, -29, 55, -2, 41, 40, 80, -108, 5, -120, 76, -29, 5, -109, 36, -28, 35, -21, 6, 125, 89, -39, 24, -62, 9, 60, -100, -21, 60, 24, 26, -6, -46, 80, 18, -18, -81, -95, -62, 88, -118, 59, -66, 80, -80, -32, 91, 80, 75, -83, 108, -33, 115, 91, -123, 2, -122, 71, -111, 61, -102, 86, 112, -92, 36, -70, -25, -120, -84, -18, -78, 33, -72, -72, -56, 52, 59, -7, 43, 46, -100, 78, 58, 12, 43, 39, 71, -9, 7, 91, -65, -60, -96, -94, 82, 107, 19, 80, -13, 32, 76, 17, 2, 87, 75, 4, 75, 15, 10, -93, -23, -60, -40, -94, -97, 98, -8, -127, -33, 86, 38, 97, 119, 102, 115, -123, 13, -39, 10, -29, 87, -23, 109, 122, -101, -59, 52, 91, 75, -18, 102, 24, -48, 24, 92, -40, -17, 44, 70, 35, -109, 61, 80, 30, -63, 98, 104, -125, -118, 81, -65, 13, 37, -99, -93, -74, -18, 108, 122, 121, -52, -3, 32, -92, -123, 40, -11, 31, 115, 68, 34, 7, -112, 125, -91, -5, 38, -65, -43, 84, -22, -28, -99, -43, -71, 124, 2, 82, 65, 86, 50, 91, -45, -53, 6, -43, 61, 13, -18, -14, -48, 76, -62, -97, -34, -83, 1, 48, -59, -126, -69, 12, 52, 50, 32, 55, 1, 39, 34, -30, 85, -17, 27, 24, 29, 67, 22, 19, -13, 16, 77, 93, -115, -55, 38, 68, -106, -6, 97, 50, 81, 43, -99, 7, 4, -122, -65, -68, 111, -21, -104, 95, 9, -44, 108, 0, 9, -101, 79, -86, 118, -85, -33, 33, 14, -75, -31, 30, -54, 55, 106, 50, 51, 64, -91, -19, 3, -125, -113, -120, -55, 41, -44, -79, 23, -22, 97, -102, -95, -111, -78, -17, -65, -10, -118, -29, 48, -92, -28, 74, 4, -56, 91, 56, 4, 80, -77, -15, -118, -15, -126, -25, 0, 4, -119, -42, 44, 52, -15, -60, -107, -19, 54, 48, 117, -8, -118, 127, 14, -126, 77, 118, 42, 46, -115, -3, 14, 3, -99, 21, 114, 25, 21, 110, 60, -121, -59, -2, -39, 121, 80, 118, 5, 30, 113, -49, 8, 74, -42, 57, -62, 85, 119, 112, 6, 51, 6, 81, -110, 24, 59, -47, -13, 14, -96, 18, 99, 14, -13, -68, 53, 45, 104, -14, 11, -10, -102, 118, -50, 5, 25, -126, 7, 34, -26, 51, 47, -50, -31, -126, 122, -27, 64, -74, 31, -106, -23, -125, 16, -4, 115, 68, -29, -109, 113, 105, 118, 79, 83, 93, 105, -65, 112, -10, 33, 66, -95, 109, -98, 63, 57, -5, 110, 63, -10, 34, 82, -86, -120, -24, -113, 85, 96, -31, -106, 117, -15, -75, 46, -74, 3, -116, 91, 62, -115, -45, -59, 20, -15, -115, 5, -109, 4, 18, 3, 24, 64, -97, 2, -107, 110, -78, 79, 47, -84, 37, -75, 34, 59, 38, 84, 37, -12, 66, 47, -104, 17, -30, 57, 26, 102, 118, -115, 95, 41, -66, -18, -62, 126, -1, 105, 31, 0, -118, -75, 102, 79, 105, -47, -79, 2, 28, 127, 74, -69, 106, -33, -35, -88, -13, -70, -82, -64, 4, 5, -46, 108, -11, -124, -46, -74, 59, 83, -25, -111, 1, 69, 57, -14, -91, 79, -104, 8, 68, 17, 3, 49, -67, -22, -6, 101, -88, 98, -62, 75, 23, 88, -64, -31, 38, 123, -106, -107, 59, -9, 82, -66, -96, 66, -94, 61, -83, -71, -38, 50, -72, 100, 104, -84, 59, 68, -57, -40, -74, -114, -57, 95, 110, -56, 44, 127, 10, 111, 8, 126, -47, -30, 112, -11, 80, 62, 64, 17, 77, -105, 75, -107, -47, 1, 70, 51, -113, -20, -127, 95, -13, 19, -54, 76, -108, -101, -71, -13, 89, 41, -30, -93, 124, -17, -56, -58, -80, 82, 102, 68, -114, 72, -108, -71, -38, 71, 64, -37, -37, -101, 93, -65, 36, 62, 69, 25, 67, -59, 92, -84, 115, 122, 127, 13, 58, 74, 96, 103, 81, 77, -41, -41, 36, -101, 81, -127, -102, 110, -13, -123, 13, 18, -99, 6, -26, -92, -106, 105, -99, -3, -54, -119, -109, -53, -68, -88, 10, -87, 1, -74, 5, -125, 103, 127, 62, 121, -4, -58, -107, 91, 6, -125, 58, -80, -31, -77, -102, -16, -13, 83, 32, 123, 95, 83, -1, 93, 16, 117, -112, 19, 31, -20, -45, 122, -123, 79, -22, 95, -13, -103, 24, 96, -41, 113, 73, 29, 86, -126, 74, -96, 57, 69, -51, -24, 49, 40, -33, 102, -65, -68, -35, -62, 102, 69, -13, -7, -16, -103, -4, -57, 48, -79, -9, -25, -22, 38, 94, 7, 51, -19, -53, -127, 12, 70, -47, -67, 18, -68, 79, 100, 46, -126, 64, -56, -48, -35, 123, 51, 106, 109, -81, 18, -101, 28, 90, 85, -101, 10, -13, 105, -14, -125, 51, -127, 6, -69, 40, 60, -113, -74, -113, 108, 99, 120, 56, -108, -109, 116, -37, -87, -76, 40, 71, 28, 124, -113, 5, -87, -47, 124, -65, 21, 126, 66, -7, -98, -8, -60, -38, -1, -19, 20, -14, 10, -100, -110, 7, 9, 62, -81, -52, -102, -86, 43, -117, 127, 85, -42, 14, 82, -92, -17, 122, 34, -65, 72, 4, -91, 32, 6, 104, -10, 118, 42, -107, 64, -27, -35, 41, 76, -24, 80, -33, 14, 98, -5, -20, -68, -48, 74, 102, 101, -118, 79, 60, -5, 36, -32, 24, -96, -40, 89, -82, 121, -12, -104, -13, -63, -121, 59, -107, -36, 116, 127, 28, 78, 13, 53, -7, -92, 124, 91, 23, -102, 25, 118, 27, -7, 77, 117, -109, -80, -96, -44, 72, -5, -27, -106, 24, 101, 70, 79, 50, -95, 41, -66, 88, 11, -81, -122, -1, 15, -94, -45, -122, -74, -14, -40, 28, 125, 104, -119, -32, -102, -4, -21, -114, -101, 0, -87, -106, 52, 69, -95, -20, 82, 32, -112, -78, -84, 82, 33, 35, -51, -26, -75, 115, 58, -17, 76, 4, -43, -127, -100, -36, -71, 98, 94, -46, -11, -39, 108, -126, 21, 124, -54, -15, -107, 40, -73, 121, -64, -113, -19, 31, -109, -46, -78, -9, 8, -96, -40, 125, -17, 0, -41, 52, -101, 1, -90, -89, 67, 8, -93, -10, 76, 23, 96, 23, 72, 1, -72, 105, 59, -60, -28, 127, 1, -7, -81, -91, 10, 35, -85, -88, -25, -85, -2, 5, 7, 86, 73, -111, 81, -9, -63, -5, 92, -116, 6, 57, 5, 93, -36, -94, -31, -26, -14, 69, 116, 109, 53, 107, -49, 73, 22, -32, -37, 94, 109, 67, 78, 127, -93, 112, -62, -70, -48, 107, 100, 16, 120, 115, 76, -10, 76, 101, 38, 81, -79, 32, 77, -19, -29, -105, 12, -31
// };
q7_t input_img[NUM_OUT_CH*CNN_IMG_SIZE*CNN_IMG_SIZE];

float32_t re_buffer[NUM_OUT_CH*CNN_IMG_SIZE*CNN_IMG_SIZE] = 
{
1.14899,1.11744,1.02278,1.03856,1.00701,0.912349,0.959677,1.00701,0.73881,0.86502,0.912349,0.596823,1.16477,1.11744,1.02278,1.10166,1.02278,1.02278,0.99123,0.912349,0.849243,0.707257,0.644152,0.486389,0.675704,0.628376,0.423284,0.470613,0.375955,0.328626,0.344402,0.123535,0.202416,0.391731,0.249745,0.249745,0.091982,0.202416,0.0762057,0.155087,0.360179,0.155087,-0.0657808,0.155087,-0.0500045,-0.018452,0.202416,-0.018452,0.360179,0.581047,0.31285,0.73881,0.928125,0.691481,1.18055,1.2752,1.10166,1.24365,1.2752,1.18055,1.18055,1.22787,1.02278,1.11744,1.18055,0.912349,1.29098,1.33831,1.14899,1.2752,1.32253,1.10166,1.18055,1.2121,1.00701,0.723033,0.833467,0.517942,0.486389,0.628376,0.265521,0.675704,0.817691,0.454836,0.880796,1.00701,0.612599,0.407508,0.628376,0.202416,0.265521,0.502165,0.0762057,0.281297,0.328626,0.0762057,1.22787,1.29098,1.07011,1.2121,1.25943,1.07011,1.19632,1.2752,1.03856,1.11744,1.14899,0.959677,1.13322,1.08589,0.99123,1.2752,1.2121,1.18055,1.05434,0.943901,0.880796,0.549494,0.423284,0.297074,0.56527,0.56527,0.328626,0.754586,0.707257,0.596823,0.723033,0.533718,0.628376,0.691481,0.517942,0.596823,0.86502,0.817691,0.786138,0.975454,0.959677,0.896572,1.02278,1.00701,0.959677,1.18055,1.25943,1.11744,1.33831,1.44874,1.24365,1.43297,1.51185,1.30676,1.44874,1.5434,1.30676,1.44874,1.55918,1.32253,1.40141,1.48029,1.2121,1.29098,1.33831,1.07011,1.2752,1.32253,1.05434,1.33831,1.36986,1.11744,1.36986,1.36986,1.24365,1.07011,1.10166,0.959677,1.00701,1.07011,0.801915,0.959677,1.03856,0.675704,1.13322,1.22787,0.849243,0.612599,0.723033,0.407508,0.659928,0.73881,0.454836,0.880796,0.833467,0.659928,1.41719,1.43297,1.35408,1.40141,1.41719,1.33831,1.36986,1.41719,1.30676,1.38564,1.43297,1.29098,1.40141,1.41719,1.30676,1.49607,1.49607,1.44874,1.14899,1.10166,1.05434,0.454836,0.344402,0.31285,0.31285,0.344402,0.233969,0.56527,0.517942,0.454836,0.454836,0.375955,0.612599,0.612599,0.517942,0.628376,0.723033,0.628376,0.691481,0.691481,0.612599,0.73881,1.07011,0.975454,0.99123,1.25943,1.24365,1.25943,1.16477,1.19632,1.18055,1.43297,1.44874,1.33831,1.30676,1.30676,1.25943,1.2752,1.38564,1.10166,1.33831,1.43297,1.10166,1.24365,1.32253,1.00701,1.10166,1.14899,0.880796,1.2752,1.25943,1.05434,1.41719,1.40141,1.22787,1.38564,1.40141,1.25943,1.35408,1.35408,1.18055,1.13322,1.2121,0.833467,1.02278,1.14899,0.644152,0.912349,0.975454,0.691481,1.00701,1.02278,0.833467,1.05434,1.03856,0.849243,1.59073,1.59073,1.59073,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.5434,1.55918,1.52762,1.57495,1.57495,1.5434,1.55918,1.57495,1.52762,1.32253,1.30676,1.30676,0.218192,0.139311,0.486389,0.0288769,0.0288769,0.375955,0.202416,0.170863,0.502165,-0.207767,-0.223544,0.265521,0.233969,0.233969,0.675704,0.0131006,-0.00267568,0.470613,-0.128886,-0.0973334,0.249745,0.281297,0.281297,0.628376,0.233969,0.249745,0.596823,0.391731,0.43906,0.644152,0.928125,0.959677,1.08589,0.801915,0.786138,1.00701,1.05434,1.19632,0.912349,1.02278,1.22787,0.644152,0.928125,1.05434,0.659928,1.00701,1.05434,0.817691,1.29098,1.25943,1.07011,1.35408,1.35408,1.11744,1.40141,1.40141,1.19632,1.32253,1.33831,1.08589,1.08589,1.18055,0.675704,0.86502,0.99123,0.391731,1.18055,1.24365,0.833467,1.25943,1.29098,1.07011,1.07011,1.07011,0.880796,1.59073,1.59073,1.59073,1.55918,1.57495,1.55918,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.59073,1.59073,1.59073,1.52762,1.51185,1.52762,0.99123,0.959677,0.959677,-0.428635,-0.507517,-0.191991,-0.712608,-0.728385,-0.0815571,-0.570622,-0.554846,0.265521,-0.870371,-0.838819,-0.0973334,-0.586398,-0.554846,0.360179,-0.696832,-0.681056,0.233969,-0.838819,-0.823042,-0.0815571,-0.696832,-0.696832,0.170863,-0.823042,-0.823042,-0.0500045,-0.665279,-0.633727,-0.0342282,-0.318201,-0.302425,0.344402,-0.318201,-0.318201,0.139311,0.0762057,0.155087,0.31285,0.596823,0.786138,0.391731,0.644152,0.786138,0.391731,0.912349,0.896572,0.817691,1.40141,1.30676,1.25943,1.2752,1.19632,1.02278,1.29098,1.22787,1.02278,1.30676,1.30676,1.07011,0.959677,1.05434,0.517942,0.786138,0.928125,0.249745,1.08589,1.19632,0.628376,1.29098,1.38564,0.943901,1.22787,1.2752,1.03856,1.59073,1.59073,1.59073,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.55918,1.55918,1.55918,1.59073,1.6065,1.6065,1.46452,1.43297,1.48029,1.13322,1.07011,1.11744,-0.286649,-0.333978,-0.23932,-1.13857,-1.15434,-0.49174,-0.854595,-0.807266,0.18664,-0.838819,-0.775713,0.249745,-0.665279,-0.617951,0.407508,-0.681056,-0.649503,0.407508,-0.649503,-0.602174,0.407508,-0.586398,-0.539069,0.517942,-0.712608,-0.665279,0.360179,-0.870371,-0.838819,0.202416,-0.870371,-0.870371,0.202416,-0.838819,-0.838819,0.123535,-0.807266,-0.807266,-0.018452,-0.286649,-0.23932,0.0604294,0.723033,0.833467,0.549494,1.13322,1.14899,0.959677,1.43297,1.35408,1.32253,1.36986,1.2121,1.16477,1.24365,1.16477,0.975454,1.13322,1.10166,0.770362,0.817691,0.849243,0.407508,0.470613,0.56527,0.0446532,0.707257,0.833467,0.249745,1.14899,1.29098,0.754586,1.44874,1.46452,1.24365,1.59073,1.59073,1.59073,1.55918,1.55918,1.55918,1.55918,1.55918,1.55918,1.57495,1.57495,1.57495,1.52762,1.51185,1.52762,1.18055,1.10166,1.2121,1.14899,1.08589,1.2121,0.218192,0.18664,0.56527,-1.01236,-1.02813,-0.207767,-0.475964,-0.397083,0.56527,-0.191991,-0.11311,0.817691,0.107758,0.155087,0.99123,-0.0657808,-0.00267568,0.880796,-0.191991,-0.0815571,0.928125,-0.018452,0.170863,1.14899,-0.0973334,0.091982,1.05434,-0.223544,-0.0342282,0.943901,-0.349754,-0.255096,0.801915,-0.475964,-0.36553,0.754586,-0.381306,-0.286649,0.73881,-0.539069,-0.475964,0.297074,0.170863,0.249745,0.344402,1.2121,1.2752,0.959677,1.40141,1.40141,1.2752,1.43297,1.40141,1.30676,1.25943,1.16477,1.08589,0.849243,0.754586,0.517942,0.754586,0.659928,0.391731,0.360179,0.328626,0.0131006,0.423284,0.502165,0.0288769,0.943901,1.07011,0.533718,1.43297,1.44874,1.16477,1.57495,1.57495,1.57495,1.55918,1.55918,1.5434,1.55918,1.55918,1.5434,1.6065,1.62228,1.62228,1.30676,1.29098,1.35408,0.86502,0.770362,0.912349,1.11744,1.05434,1.14899,0.139311,0.091982,0.754586,-0.996581,-0.996581,-0.160438,0.0288769,0.123535,0.786138,0.675704,0.691481,1.25943,0.912349,0.880796,1.38564,0.99123,0.959677,1.41719,0.218192,0.328626,1.11744,-0.207767,-0.0500045,0.975454,-0.207767,-0.00267568,1.02278,-0.23932,-0.0342282,0.99123,-0.0500045,0.091982,1.00701,-0.207767,-0.0500045,0.912349,-0.191991,-0.018452,0.99123,0.233969,0.360179,1.25943,-0.191991,-0.0657808,0.56527,0.233969,0.297074,0.155087,1.11744,1.10166,0.943901,1.33831,1.25943,1.19632,1.11744,1.02278,0.896572,1.07011,1.05434,0.817691,1.02278,1.03856,0.691481,0.833467,0.86502,0.423284,0.423284,0.470613,0.0288769,0.533718,0.486389,0.155087,1.2121,1.19632,0.86502,1.57495,1.57495,1.59073,1.55918,1.55918,1.55918,1.57495,1.57495,1.55918,1.59073,1.59073,1.59073,1.30676,1.2752,1.30676,0.975454,0.912349,1.02278,1.16477,1.13322,1.24365,-0.223544,-0.270872,0.470613,-0.996581,-0.996581,-0.144662,-0.223544,-0.160438,0.659928,-0.255096,-0.191991,0.770362,-0.23932,-0.144662,0.770362,0.628376,0.644152,1.2121,0.0131006,0.107758,0.943901,-0.444412,-0.318201,0.770362,-0.302425,-0.144662,0.896572,-0.318201,-0.160438,0.912349,-0.11311,0.0131006,0.959677,-0.0342282,0.091982,0.959677,-0.302425,-0.128886,0.849243,0.139311,0.31285,1.19632,0.0446532,0.218192,1.00701,-0.00267568,-0.0342282,0.297074,0.849243,0.754586,0.691481,1.10166,0.99123,0.928125,1.18055,1.13322,1.02278,1.40141,1.36986,1.24365,1.19632,1.11744,0.928125,0.628376,0.517942,0.265521,0.31285,0.218192,-0.0815571,0.391731,0.18664,0.0604294,0.896572,0.817691,0.533718,1.55918,1.5434,1.5434,1.55918,1.5434,1.52762,1.57495,1.57495,1.55918,1.5434,1.5434,1.5434,1.32253,1.30676,1.33831,0.723033,0.707257,0.959677,0.375955,0.375955,0.786138,-0.539069,-0.539069,0.31285,-0.965029,-0.965029,-0.0657808,-0.160438,-0.0657808,0.770362,-0.397083,-0.255096,0.707257,-0.539069,-0.412859,0.628376,-0.018452,0.0446532,0.912349,-0.255096,-0.144662,0.817691,-0.460188,-0.318201,0.754586,-0.381306,-0.23932,0.817691,-0.302425,-0.176215,0.86502,-0.207767,-0.0815571,0.912349,0.0288769,0.107758,1.00701,-0.302425,-0.160438,0.849243,0.0762057,0.218192,1.11744,0.170863,0.31285,1.25943,-0.0657808,0.0131006,0.691481,0.817691,0.770362,0.880796,1.40141,1.33831,1.35408,1.51185,1.49607,1.48029,1.51185,1.49607,1.46452,1.40141,1.35408,1.30676,0.880796,0.770362,0.691481,0.880796,0.723033,0.659928,1.11744,0.943901,0.912349,1.19632,1.11744,1.05434,1.49607,1.38564,1.41719,1.52762,1.49607,1.48029,1.57495,1.55918,1.55918,1.59073,1.57495,1.57495,1.19632,1.16477,1.24365,-0.176215,-0.23932,0.249745,-0.223544,-0.255096,0.391731,-0.775713,-0.79149,0.18664,-1.04391,-1.02813,-0.160438,-0.444412,-0.349754,0.517942,-0.444412,-0.349754,0.549494,-0.570622,-0.507517,0.43906,-0.554846,-0.49174,0.470613,-0.586398,-0.507517,0.470613,-0.554846,-0.460188,0.56527,-0.570622,-0.460188,0.612599,-0.460188,-0.318201,0.675704,-0.381306,-0.255096,0.723033,-0.381306,-0.270872,0.691481,-0.460188,-0.286649,0.723033,-0.128886,-0.00267568,0.959677,0.091982,0.218192,1.19632,-0.018452,0.139311,1.00701,0.360179,0.407508,0.817691,1.00701,0.975454,1.14899,1.32253,1.30676,1.35408,1.59073,1.6065,1.6065,1.55918,1.57495,1.57495,1.57495,1.55918,1.57495,1.59073,1.55918,1.57495,1.59073,1.59073,1.57495,1.57495,1.57495,1.57495,1.22787,0.959677,1.05434,1.40141,1.30676,1.35408,1.5434,1.5434,1.5434,1.57495,1.5434,1.5434,1.13322,1.05434,1.13322,0.391731,0.265521,0.596823,0.328626,0.233969,0.723033,-0.870371,-0.886147,0.107758,-1.31211,-1.32788,-0.602174,-1.21745,-1.1859,-0.539069,-0.838819,-0.79149,0.0446532,-0.696832,-0.665279,0.249745,-0.775713,-0.728385,0.218192,-0.775713,-0.744161,0.233969,-0.728385,-0.649503,0.344402,-0.759937,-0.665279,0.407508,-0.759937,-0.633727,0.391731,-0.775713,-0.696832,0.297074,-0.854595,-0.775713,0.218192,-0.744161,-0.649503,0.344402,-0.617951,-0.49174,0.454836,-0.36553,-0.270872,0.707257,-0.23932,-0.11311,0.849243,-0.286649,-0.255096,0.486389,0.170863,0.139311,0.612599,1.13322,1.11744,1.25943,1.63806,1.63806,1.63806,1.55918,1.55918,1.55918,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.00701,0.691481,0.817691,1.24365,1.08589,1.16477,1.44874,1.32253,1.40141,1.30676,1.19632,1.2752,0.73881,0.56527,0.707257,0.612599,0.407508,0.56527,0.581047,0.454836,0.801915,-0.696832,-0.712608,0.233969,-1.40676,-1.40676,-0.807266,-1.39099,-1.37521,-0.823042,-0.886147,-0.854595,-0.0500045,-0.681056,-0.665279,0.249745,-0.523293,-0.475964,0.659928,-0.712608,-0.649503,0.375955,-0.9177,-0.886147,-0.018452,-0.949253,-0.933476,-0.0657808,-0.980805,-0.933476,-0.0815571,-0.949253,-0.933476,-0.11311,-0.807266,-0.807266,0.0288769,-0.49174,-0.460188,0.360179,-0.554846,-0.507517,0.123535,-0.728385,-0.681056,-0.207767,-0.507517,-0.412859,-0.018452,-0.23932,-0.160438,0.091982,0.470613,0.502165,0.691481,1.29098,1.2752,1.30676,1.59073,1.59073,1.55918,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,1.57495,0.880796,0.628376,0.801915,0.943901,0.691481,0.86502,1.18055,0.912349,1.05434,0.801915,0.581047,0.770362,0.407508,0.123535,0.31285,0.155087,-0.160438,0.0762057,0.18664,-0.0500045,0.281297,-0.665279,-0.712608,-0.11311,-0.633727,-0.649503,0.091982,-0.712608,-0.665279,0.407508,-0.570622,-0.523293,0.533718,-0.665279,-0.649503,0.344402,-0.460188,-0.412859,0.707257,-0.428635,-0.381306,0.959677,-0.79149,-0.759937,0.344402,-0.933476,-0.9177,0.0288769,-0.854595,-0.823042,0.139311,-0.602174,-0.586398,0.43906,-0.349754,-0.302425,0.754586,-0.0657808,0.0288769,1.05434,-0.255096,-0.191991,0.486389,-0.633727,-0.602174,-0.255096,-0.570622,-0.539069,-0.255096,-0.318201,-0.270872,-0.0973334,0.091982,0.123535,0.249745,0.549494,0.549494,0.517942,0.801915,0.801915,0.73881,1.07011,1.03856,1.05434,1.49607,1.48029,1.49607,1.59073,1.59073,1.59073,1.57495,1.57495,1.55918,1.57495,1.57495,1.55918,0.880796,0.596823,0.786138,1.03856,0.786138,0.99123,0.99123,0.707257,0.880796,0.391731,0.123535,0.281297,0.31285,0.0288769,0.18664,0.0604294,-0.333978,-0.128886,0.0446532,-0.270872,-0.0342282,-0.0973334,-0.286649,-0.11311,-0.23932,-0.318201,0.281297,-0.823042,-0.807266,0.533718,-0.602174,-0.617951,0.517942,-0.807266,-0.79149,0.233969,-0.870371,-0.854595,0.091982,-0.807266,-0.807266,0.297074,-0.949253,-0.933476,0.0762057,-1.05969,-1.02813,-0.0815571,-1.07546,-1.04391,-0.0500045,-0.996581,-0.965029,0.0288769,-0.996581,-0.949253,0.0288769,-0.996581,-0.933476,0.0446532,-1.02813,-0.996581,-0.160438,-1.10702,-1.09124,-0.318201,-1.09124,-1.07546,-0.270872,-0.980805,-0.965029,-0.176215,-0.681056,-0.681056,0.0762057,-0.333978,-0.349754,0.297074,-0.0657808,-0.0973334,0.454836,-0.018452,-0.0973334,0.344402,0.73881,0.691481,0.943901,1.57495,1.57495,1.59073,1.57495,1.57495,1.55918,1.57495,1.57495,1.57495,1.03856,0.707257,0.801915,1.29098,0.943901,1.00701,0.817691,0.360179,0.454836,-0.397083,-0.681056,-0.539069,-0.507517,-0.681056,-0.49174,0.091982,-0.302425,-0.0815571,0.659928,0.391731,0.56527,0.754586,0.470613,0.644152,-0.570622,-0.649503,-0.176215,-1.05969,-1.05969,0.155087,-1.05969,-1.02813,-0.270872,-1.40676,-1.42254,-0.901924,-1.56453,-1.59608,-1.12279,-1.53297,-1.53297,-1.07546,-1.32788,-1.34366,-0.870371,-1.28055,-1.29633,-0.775713,-1.34366,-1.34366,-0.823042,-1.28055,-1.29633,-0.759937,-1.34366,-1.37521,-0.79149,-1.42254,-1.45409,-0.886147,-1.50142,-1.53297,-0.9177,-1.48565,-1.5172,-0.9177,-1.31211,-1.31211,-0.712608,-1.26478,-1.26478,-0.649503,-1.15434,-1.17012,-0.554846,-1.09124,-1.10702,-0.444412,-0.838819,-0.854595,-0.018452,-0.649503,-0.744161,0.170863,-0.144662,-0.255096,0.486389,1.2752,1.24365,1.38564,1.6065,1.6065,1.59073,1.57495,1.57495,1.59073,0.86502,0.470613,0.612599,0.770362,0.31285,0.407508,0.56527,0.107758,0.265521,-0.759937,-0.949253,-0.681056,-0.807266,-0.980805,-0.759937,0.0131006,-0.318201,-0.128886,0.754586,0.43906,0.581047,0.265521,0.0288769,0.265521,-0.9177,-0.965029,-0.255096,-1.12279,-1.12279,-0.191991,-0.823042,-0.901924,-0.23932,-0.728385,-0.854595,-0.144662,-0.633727,-0.696832,-0.0657808,-1.02813,-1.09124,-0.302425,-1.02813,-1.07546,-0.302425,-1.15434,-1.20167,-0.602174,-1.69074,-1.75384,-1.43832,-1.83272,-1.91161,-1.59608,-1.80117,-1.86428,-1.5803,-1.8485,-1.91161,-1.65919,-1.45409,-1.5172,-1.05969,-1.48565,-1.53297,-1.15434,-1.92738,-1.95893,-1.72229,-1.83272,-1.88005,-1.64341,-1.89583,-1.94316,-1.76962,-1.43832,-1.48565,-1.01236,-0.838819,-0.9177,0.0131006,-0.633727,-0.696832,0.107758,-0.255096,-0.381306,0.360179,0.975454,0.912349,1.18055,1.62228,1.62228,1.6065,1.55918,1.55918,1.55918,1.05434,0.754586,0.912349,0.86502,0.56527,0.770362,0.786138,0.549494,0.786138,-0.49174,-0.633727,-0.318201,-0.381306,-0.633727,-0.381306,0.202416,-0.144662,0.0288769,0.233969,-0.0342282,0.139311,-1.15434,-1.26478,-1.12279,-1.20167,-1.249,-0.617951,-0.854595,-0.901924,-0.144662,-0.444412,-0.570622,-0.207767,-0.318201,-0.381306,0.0604294,0.0762057,0.0762057,0.628376,-0.36553,-0.412859,0.233969,-0.255096,-0.302425,0.391731,-0.665279,-0.728385,-0.207767,-1.04391,-1.17012,-0.665279,-0.728385,-0.870371,-0.412859,-0.507517,-0.602174,-0.191991,-0.696832,-0.759937,-0.349754,0.0604294,-0.00267568,0.486389,0.0446532,-0.00267568,0.407508,-0.823042,-0.870371,-0.523293,-0.712608,-0.759937,-0.460188,-0.79149,-0.854595,-0.523293,-0.570622,-0.649503,0.0131006,-0.144662,-0.223544,0.533718,-0.0342282,-0.0815571,0.581047,0.18664,0.107758,0.675704,0.612599,0.533718,0.833467,1.5434,1.52762,1.5434,1.59073,1.57495,1.57495,1.19632,1.02278,1.13322,0.912349,0.707257,0.880796,0.612599,0.423284,0.628376,-0.665279,-0.79149,-0.475964,-0.539069,-0.728385,-0.460188,0.328626,0.0288769,0.202416,-0.191991,-0.412859,-0.223544,-1.80117,-1.83272,-1.70651,-1.37521,-1.42254,-1.02813,-0.728385,-0.775713,0.0762057,-0.586398,-0.649503,-0.23932,-0.965029,-1.02813,-0.712608,-0.980805,-0.965029,-0.523293,-0.681056,-0.696832,-0.23932,-0.23932,-0.255096,0.202416,-0.696832,-0.775713,-0.191991,0.139311,0.0288769,0.517942,0.470613,0.407508,0.770362,0.218192,0.170863,0.612599,0.233969,0.218192,0.644152,0.43906,0.423284,0.880796,0.375955,0.375955,0.770362,0.281297,0.249745,0.659928,0.297074,0.265521,0.707257,0.249745,0.218192,0.581047,0.486389,0.43906,0.86502,0.18664,0.170863,0.596823,-0.397083,-0.397083,0.107758,-0.475964,-0.523293,0.0604294,-0.144662,-0.255096,0.281297,1.32253,1.29098,1.38564,1.62228,1.62228,1.6065,1.18055,1.00701,1.14899,0.99123,0.770362,0.943901,0.691481,0.502165,0.675704,-0.728385,-0.838819,-0.49174,-0.965029,-1.07546,-0.759937,-0.0500045,-0.270872,-0.0815571,-0.523293,-0.696832,-0.49174,-1.61186,-1.64341,-1.31211,-1.35944,-1.43832,-1.04391,-1.13857,-1.20167,-0.507517,-1.07546,-1.12279,-0.460188,-1.29633,-1.37521,-0.807266,-1.43832,-1.48565,-0.933476,-1.39099,-1.43832,-0.965029,-1.26478,-1.31211,-0.79149,-0.807266,-0.870371,-0.302425,0.249745,0.18664,0.73881,-0.318201,-0.397083,0.233969,-0.838819,-0.901924,-0.270872,-0.681056,-0.728385,-0.0973334,-0.444412,-0.49174,0.249745,-0.586398,-0.633727,0.0762057,-0.649503,-0.712608,-0.0657808,-0.649503,-0.696832,-0.018452,-0.712608,-0.759937,-0.0973334,0.170863,0.123535,0.707257,-0.286649,-0.349754,0.233969,-1.21745,-1.28055,-0.712608,-0.996581,-1.05969,-0.460188,-0.412859,-0.507517,0.155087,1.14899,1.10166,1.29098,1.63806,1.63806,1.62228,1.14899,0.912349,1.08589,1.03856,0.801915,1.00701,0.86502,0.723033,0.86502,-0.681056,-0.775713,-0.428635,-1.39099,-1.46987,-1.12279,-0.886147,-1.04391,-0.823042,-0.807266,-0.965029,-0.712608,-1.32788,-1.39099,-0.949253,-1.39099,-1.46987,-1.09124,-1.54875,-1.65919,-1.249,-1.28055,-1.32788,-0.744161,-1.17012,-1.20167,-0.617951,-1.32788,-1.37521,-0.775713,-1.42254,-1.46987,-0.901924,-1.26478,-1.34366,-0.649503,-1.249,-1.31211,-0.775713,-0.712608,-0.775713,-0.160438,-0.475964,-0.539069,0.281297,-0.617951,-0.665279,0.139311,-0.649503,-0.681056,0.107758,-0.696832,-0.712608,0.091982,-0.759937,-0.775713,-0.00267568,-0.807266,-0.823042,-0.11311,-0.744161,-0.759937,-0.018452,-0.665279,-0.696832,0.0446532,-0.523293,-0.570622,0.139311,-0.696832,-0.759937,-0.018452,-1.12279,-1.17012,-0.523293,-0.980805,-1.02813,-0.460188,-0.475964,-0.570622,0.0288769,1.07011,1.00701,1.22787,1.65383,1.65383,1.62228,1.02278,0.786138,0.943901,0.959677,0.754586,0.975454,0.912349,0.754586,0.943901,-0.428635,-0.539069,-0.207767,-0.965029,-1.07546,-0.681056,-1.17012,-1.29633,-0.996581,-0.996581,-1.12279,-0.823042,-1.20167,-1.28055,-0.854595,-1.48565,-1.54875,-1.17012,-1.72229,-1.81695,-1.56453,-1.59608,-1.64341,-1.37521,-1.46987,-1.5172,-1.1859,-1.20167,-1.249,-0.728385,-1.05969,-1.13857,-0.523293,-0.901924,-0.965029,-0.302425,-1.28055,-1.34366,-0.901924,-1.45409,-1.5172,-1.10702,-1.15434,-1.21745,-0.665279,-0.980805,-1.05969,-0.507517,-1.13857,-1.21745,-0.649503,-1.26478,-1.32788,-0.728385,-1.21745,-1.26478,-0.681056,-1.29633,-1.34366,-0.79149,-0.807266,-0.886147,-0.302425,-0.886147,-0.980805,-0.460188,-1.32788,-1.42254,-0.980805,-0.965029,-1.04391,-0.49174,-0.570622,-0.617951,0.0762057,-0.507517,-0.586398,0.155087,-0.570622,-0.681056,-0.11311,0.943901,0.896572,1.07011,1.66961,1.65383,1.63806,0.959677,0.801915,1.02278,0.912349,0.723033,1.00701,0.833467,0.675704,0.975454,-0.633727,-0.744161,-0.428635,-0.807266,-0.933476,-0.617951,-0.523293,-0.712608,-0.349754,-1.15434,-1.249,-0.9177,-1.12279,-1.21745,-0.79149,-1.28055,-1.35944,-0.9177,-1.62763,-1.67496,-1.42254,-1.67496,-1.72229,-1.46987,-1.73807,-1.76962,-1.53297,-1.09124,-1.13857,-0.665279,-0.712608,-0.759937,-0.207767,-0.0342282,-0.0500045,0.454836,-1.02813,-1.07546,-0.712608,-1.80117,-1.88005,-1.56453,-0.9177,-1.02813,-0.696832,0.0446532,-0.0657808,0.218192,-0.412859,-0.49174,-0.223544,-0.712608,-0.79149,-0.36553,-0.475964,-0.554846,-0.0973334,-0.665279,-0.744161,-0.318201,0.139311,0.0288769,0.423284,0.533718,0.423284,0.675704,-1.28055,-1.35944,-1.09124,-1.10702,-1.1859,-0.775713,-0.0500045,-0.0973334,0.423284,-0.397083,-0.444412,0.123535,-0.854595,-0.965029,-0.428635,0.801915,0.754586,0.99123,1.6065,1.57495,1.66961,0.849243,0.707257,1.2121,0.786138,0.612599,1.10166,0.644152,0.502165,0.943901,-0.901924,-0.980805,-0.633727,-1.50142,-1.5803,-1.34366,-0.570622,-0.712608,-0.444412,-0.744161,-0.870371,-0.475964,-0.712608,-0.79149,-0.255096,-0.775713,-0.854595,-0.318201,-1.46987,-1.5172,-1.249,-1.65919,-1.70651,-1.45409,-1.70651,-1.75384,-1.5172,-1.64341,-1.67496,-1.39099,-1.48565,-1.53297,-1.17012,-0.901924,-0.933476,-0.570622,-1.40676,-1.45409,-1.09124,-1.76962,-1.83272,-1.5172,-1.02813,-1.10702,-0.775713,0.107758,0.0131006,0.344402,-0.270872,-0.333978,-0.018452,-0.349754,-0.397083,0.0131006,-0.128886,-0.160438,0.360179,-0.444412,-0.49174,-0.018452,0.18664,0.107758,0.486389,0.233969,0.18664,0.486389,-1.40676,-1.46987,-1.10702,-1.43832,-1.48565,-1.13857,-1.10702,-1.15434,-0.728385,-1.29633,-1.34366,-0.949253,-1.04391,-1.15434,-0.633727,0.786138,0.754586,1.10166,1.51185,1.48029,1.68539,0.596823,0.470613,1.11744,0.56527,0.454836,1.07011,0.391731,0.297074,0.896572,-1.05969,-1.13857,-0.712608,-1.69074,-1.73807,-1.53297,-1.34366,-1.42254,-1.20167,-0.570622,-0.681056,-0.255096,-0.00267568,-0.0815571,0.502165,-0.602174,-0.665279,-0.144662,-1.32788,-1.35944,-1.01236,-1.59608,-1.64341,-1.39099,-1.76962,-1.80117,-1.56453,-1.81695,-1.86428,-1.64341,-1.83272,-1.88005,-1.65919,-1.80117,-1.86428,-1.59608,-1.75384,-1.80117,-1.53297,-1.65919,-1.69074,-1.40676,-1.61186,-1.67496,-1.32788,-1.35944,-1.43832,-1.01236,-0.886147,-0.9177,-0.539069,-0.602174,-0.633727,-0.302425,-0.36553,-0.428635,0.0446532,-0.349754,-0.412859,-0.00267568,-0.428635,-0.475964,-0.0815571,-1.21745,-1.29633,-0.823042,-1.53297,-1.59608,-1.21745,-1.46987,-1.5172,-1.17012,-1.48565,-1.54875,-1.21745,-1.46987,-1.53297,-1.1859,-1.01236,-1.09124,-0.554846,0.659928,0.628376,1.14899,1.2752,1.24365,1.68539,0.375955,0.281297,0.99123,0.328626,0.249745,0.99123,0.31285,0.218192,0.928125,-0.302425,-0.381306,0.202416,-0.838819,-0.901924,-0.460188,-0.759937,-0.870371,-0.428635,-0.523293,-0.649503,-0.176215,-0.0500045,-0.128886,0.407508,-0.759937,-0.823042,-0.286649,-1.10702,-1.13857,-0.681056,-1.40676,-1.45409,-1.13857,-1.70651,-1.73807,-1.5172,-1.80117,-1.83272,-1.64341,-1.80117,-1.8485,-1.62763,-1.81695,-1.8485,-1.62763,-1.7854,-1.81695,-1.56453,-1.72229,-1.76962,-1.48565,-1.89583,-1.94316,-1.65919,-1.26478,-1.31211,-0.965029,0.470613,0.486389,0.754586,0.959677,0.99123,1.16477,0.928125,0.912349,1.19632,0.549494,0.517942,0.86502,0.581047,0.56527,0.896572,-0.901924,-0.949253,-0.586398,-1.67496,-1.73807,-1.45409,-1.59608,-1.64341,-1.39099,-1.5172,-1.5803,-1.28055,-1.23323,-1.29633,-0.854595,-0.838819,-0.901924,-0.286649,0.470613,0.423284,1.03856,1.05434,1.02278,1.62228,0.281297,0.18664,0.691481,0.297074,0.18664,0.754586,0.486389,0.375955,0.975454,0.56527,0.502165,1.13322,0.123535,0.0446532,0.73881,-0.412859,-0.507517,0.155087,-0.570622,-0.665279,-0.160438,-0.0500045,-0.128886,0.265521,-0.838819,-0.9177,-0.36553,-0.965029,-0.996581,-0.460188,-1.04391,-1.09124,-0.633727,-1.5172,-1.56453,-1.29633,-1.88005,-1.92738,-1.75384,-1.89583,-1.92738,-1.73807,-1.88005,-1.91161,-1.72229,-1.81695,-1.86428,-1.62763,-1.65919,-1.72229,-1.46987,-1.67496,-1.73807,-1.50142,-1.15434,-1.1859,-0.933476,0.31285,0.31285,0.549494,0.628376,0.644152,0.86502,0.517942,0.517942,0.754586,0.391731,0.391731,0.723033,0.344402,0.328626,0.675704,-0.996581,-1.04391,-0.759937,-1.80117,-1.88005,-1.65919,-1.80117,-1.86428,-1.67496,-1.50142,-1.56453,-1.23323,-1.04391,-1.09124,-0.523293,-0.775713,-0.823042,-0.176215,0.391731,0.360179,1.02278,0.975454,0.943901,1.59073,0.155087,0.0762057,0.73881,0.43906,0.360179,0.849243,0.549494,0.454836,0.959677,0.344402,0.265521,0.849243,0.0288769,-0.0500045,0.581047,-0.428635,-0.49174,0.218192,-0.649503,-0.712608,-0.191991,0.0288769,-0.0342282,0.249745,-0.901924,-0.965029,-0.475964,-0.933476,-0.965029,-0.412859,-0.980805,-1.02813,-0.523293,-1.42254,-1.46987,-1.17012,-1.76962,-1.81695,-1.65919,-1.80117,-1.83272,-1.67496,-1.75384,-1.7854,-1.5803,-1.69074,-1.73807,-1.50142,-1.42254,-1.48565,-1.20167,-1.05969,-1.13857,-0.807266,-0.9177,-0.996581,-0.617951,-0.681056,-0.744161,-0.286649,-0.586398,-0.665279,-0.144662,-0.36553,-0.444412,0.091982,-0.0342282,-0.0973334,0.454836,-0.11311,-0.176215,0.344402,-1.32788,-1.40676,-1.13857,-1.80117,-1.8485,-1.64341,-1.75384,-1.81695,-1.61186,-1.42254,-1.48565,-1.15434,-1.04391,-1.07546,-0.49174,-0.838819,-0.870371,-0.223544,0.328626,0.31285,0.99123,0.86502,0.849243,1.5434,0.344402,0.31285,0.975454,0.391731,0.344402,1.02278,0.218192,0.170863,0.849243,0.0604294,-0.00267568,0.628376,-0.018452,-0.0815571,0.423284,-0.176215,-0.223544,0.297074,-0.649503,-0.712608,-0.223544,-0.49174,-0.570622,-0.176215,-1.02813,-1.07546,-0.586398,-0.996581,-1.01236,-0.523293,-1.09124,-1.13857,-0.633727,-1.32788,-1.39099,-1.05969,-1.61186,-1.67496,-1.48565,-1.65919,-1.70651,-1.53297,-1.61186,-1.65919,-1.43832,-1.5803,-1.62763,-1.37521,-1.5172,-1.56453,-1.28055,-1.42254,-1.46987,-1.13857,-1.249,-1.31211,-0.901924,-1.05969,-1.13857,-0.633727,-0.854595,-0.949253,-0.381306,-0.539069,-0.649503,0.0131006,-0.207767,-0.318201,0.375955,-0.0815571,-0.207767,0.502165,-1.43832,-1.50142,-1.1859,-1.81695,-1.86428,-1.64341,-1.67496,-1.75384,-1.5172,-1.42254,-1.48565,-1.15434,-1.17012,-1.1859,-0.665279,-0.838819,-0.870371,-0.286649,0.391731,0.391731,1.07011,0.817691,0.801915,1.48029,0.281297,0.249745,0.86502,0.107758,0.0604294,0.786138,0.0446532,0.0288769,0.786138,-0.0500045,-0.0500045,0.707257,-0.11311,-0.144662,0.533718,-0.176215,-0.223544,0.344402,-0.586398,-0.665279,-0.160438,-1.04391,-1.12279,-0.681056,-1.13857,-1.1859,-0.712608,-1.04391,-1.05969,-0.617951,-1.17012,-1.23323,-0.759937,-1.32788,-1.39099,-1.02813,-1.48565,-1.53297,-1.29633,-1.61186,-1.64341,-1.42254,-1.54875,-1.59608,-1.34366,-1.5172,-1.56453,-1.29633,-1.50142,-1.54875,-1.249,-1.46987,-1.5172,-1.1859,-1.34366,-1.42254,-1.04391,-1.23323,-1.31211,-0.901924,-1.07546,-1.17012,-0.696832,-0.870371,-0.949253,-0.444412,-0.681056,-0.79149,-0.23932,-0.49174,-0.602174,-0.018452,-1.1859,-1.26478,-0.901924,-1.81695,-1.86428,-1.65919,-1.72229,-1.7854,-1.5803,-1.45409,-1.5172,-1.15434,-1.28055,-1.31211,-0.870371,-0.728385,-0.728385,-0.176215,0.470613,0.486389,1.24365,0.659928,0.659928,1.38564,0.0604294,0.0446532,0.770362,-0.0500045,-0.0500045,0.691481,-0.0342282,-0.0342282,0.723033,-0.0657808,-0.0657808,0.691481,-0.018452,-0.018452,0.707257,-0.0657808,-0.0815571,0.691481,-0.602174,-0.633727,-0.00267568,-1.32788,-1.37521,-1.01236,-1.23323,-1.26478,-0.854595,-1.10702,-1.10702,-0.712608,-1.23323,-1.28055,-0.886147,-1.40676,-1.45409,-1.17012,-1.37521,-1.40676,-1.12279,-1.45409,-1.50142,-1.1859,-1.42254,-1.46987,-1.10702,-1.35944,-1.42254,-1.04391,-1.35944,-1.42254,-1.04391,-1.35944,-1.42254,-1.04391,-1.249,-1.31211,-0.9177,-1.17012,-1.23323,-0.807266,-1.12279,-1.20167,-0.744161,-1.01236,-1.10702,-0.665279,-0.901924,-0.996581,-0.554846,-0.807266,-0.901924,-0.475964,-1.05969,-1.13857,-0.79149,-1.69074,-1.75384,-1.5172,-1.67496,-1.72229,-1.5172,-1.40676,-1.45409,-1.10702,-1.10702,-1.13857,-0.696832,-0.207767,-0.191991,0.454836,0.549494,0.596823,1.38564,0.56527,0.581047,1.36986,-0.00267568,0.0288769,0.817691,0.0762057,0.091982,0.86502,0.249745,0.265521,1.00701,0.281297,0.297074,0.959677,0.218192,0.202416,0.880796,0.0288769,0.0131006,0.675704,-0.286649,-0.318201,0.328626,-1.31211,-1.35944,-0.933476,-1.37521,-1.40676,-1.07546,-1.37521,-1.39099,-1.07546,-1.35944,-1.37521,-1.04391,-1.21745,-1.249,-0.949253,-1.17012,-1.21745,-0.949253,-1.1859,-1.23323,-0.870371,-1.12279,-1.17012,-0.728385,-1.13857,-1.1859,-0.712608,-1.20167,-1.21745,-0.79149,-1.12279,-1.13857,-0.712608,-0.870371,-0.901924,-0.475964,-0.728385,-0.775713,-0.318201,-0.79149,-0.823042,-0.302425,-0.744161,-0.775713,-0.23932,-0.712608,-0.759937,-0.255096,-0.744161,-0.79149,-0.270872,-0.980805,-0.996581,-0.507517,-1.1859,-1.20167,-0.838819,-1.26478,-1.29633,-0.949253,-1.15434,-1.17012,-0.759937,-0.397083,-0.412859,0.0604294,0.31285,0.297074,0.943901,0.596823,0.596823,1.2752,0.659928,0.644152,1.24365,
};

uint8_t resized_buffer[NUM_OUT_CH*CNN_IMG_SIZE*CNN_IMG_SIZE], buffer[NUM_OUT_CH*CNN_IMG_SIZE*CNN_IMG_SIZE] = 
{
  59,43,50,68,98,119,139,145,149,149,131,125,142,144,137,129,137,134,124,139,139,133,136,139,152,163,168,159,158,158,152,148,16,0,18,51,88,120,128,127,126,116,106,101,105,113,109,112,119,109,105,125,127,122,131,124,121,131,132,133,133,123,119,122,25,16,49,83,110,129,130,121,113,112,112,106,105,128,124,130,127,122,115,120,130,131,139,127,126,127,130,142,130,118,120,109,33,38,87,106,115,117,114,105,107,121,125,109,113,146,133,127,118,117,127,122,132,137,136,131,124,130,132,135,130,125,121,94,50,59,102,127,124,121,120,114,107,125,129,106,108,124,121,108,98,110,117,120,134,140,131,141,135,127,121,119,103,87,75,67,71,84,110,129,136,131,129,119,108,122,123,105,107,111,108,98,94,97,83,88,102,97,88,118,140,136,120,107,88,67,35,32,97,111,123,130,136,132,122,121,127,138,124,120,107,80,68,74,101,105,65,58,63,78,136,122,139,151,129,108,95,96,89,66,115,119,130,140,133,127,138,137,131,133,134,108,72,51,41,72,181,209,125,68,64,82,123,112,135,151,137,114,105,101,126,102,137,128,132,128,119,123,128,130,121,137,131,74,54,50,44,86,203,217,162,100,77,75,74,76,107,135,135,129,127,119,125,134,154,154,156,140,123,125,126,127,133,132,90,63,62,70,79,103,152,148,141,121,101,96,86,75,101,136,136,134,133,132,128,133,154,155,156,147,133,137,139,134,141,121,80,97,90,98,137,139,148,134,138,134,140,175,142,102,108,135,131,133,138,136,130,134,145,146,146,135,127,129,117,103,130,120,111,146,136,163,169,152,161,148,177,161,195,209,189,125,108,140,137,132,136,133,132,133,142,141,140,144,147,121,84,88,109,101,138,213,178,191,211,189,205,207,213,191,199,188,161,130,124,131,130,131,134,135,136,133,158,154,142,143,132,90,72,81,84,107,165,229,183,191,239,219,228,225,214,216,210,200,189,174,161,139,134,126,131,142,136,138,145,149,147,147,136,80,89,105,96,129,192,185,145,203,223,242,244,238,241,227,225,235,219,224,215,156,128,129,131,133,128,130,148,146,145,147,133,63,66,88,113,182,220,138,162,206,196,247,255,255,245,236,230,215,231,250,241,158,125,126,124,125,126,124,149,143,144,151,132,64,84,112,163,223,206,145,196,204,220,243,245,239,234,231,195,150,208,250,227,163,145,143,140,136,121,114,147,134,140,148,135,100,108,144,210,248,175,175,220,226,230,233,224,201,184,181,190,170,179,231,223,162,146,140,139,145,142,128,152,117,114,123,126,122,93,179,238,248,170,185,241,230,187,180,166,146,149,157,184,216,212,236,236,166,136,134,130,127,137,151,145,127,128,133,132,135,171,237,252,229,173,169,220,194,123,135,127,151,165,132,151,202,240,240,222,156,119,120,112,100,99,140,143,127,129,129,130,140,219,244,210,193,166,153,191,179,128,147,149,172,147,128,141,173,202,190,198,152,100,109,119,121,108,136,143,125,131,128,123,153,148,166,188,182,171,165,195,190,152,143,152,153,142,141,135,136,148,141,141,138,111,111,121,129,138,179,141,131,139,139,138,151,128,136,175,173,189,205,201,168,151,145,146,149,153,149,144,144,145,143,129,123,124,113,108,113,148,199,143,139,138,149,160,150,147,151,169,167,179,212,203,207,149,139,144,137,151,155,152,140,107,91,84,105,132,118,96,102,159,190,149,133,136,147,150,153,157,162,175,190,166,202,224,197,192,180,146,126,141,156,153,115,77,79,93,126,133,119,113,140,187,154,172,144,135,136,135,139,153,163,166,184,166,150,184,156,158,168,149,135,130,132,128,127,135,143,139,136,127,121,135,189,211,136,202,187,151,128,122,134,142,150,153,148,135,127,153,166,143,130,128,151,152,135,139,155,161,154,154,143,130,132,171,215,186,117,216,193,168,151,131,126,138,144,142,137,120,131,145,144,137,127,126,139,153,149,140,135,147,148,149,149,137,143,203,206,124,71,220,201,186,172,156,142,142,153,150,139,126,136,148,141,131,126,127,138,150,154,149,124,126,141,145,147,127,114,186,173,56,33,208,201,198,191,183,171,159,147,135,130,139,147,144,145,137,136,137,148,152,150,155,138,120,128,142,135,90,50,137,160,56,53,180,173,186,194,198,201,189,173,156,139,142,145,141,141,139,140,143,139,138,143,146,135,117,112,122,104,58,34,131,184,97,83,177,168,179,188,202,218,218,207,191,175,166,163,163,161,153,159,162,149,140,148,161,144,112,119,130,120,92,103,170,216,151,123,62,46,48,54,73,91,107,110,117,120,103,99,115,112,105,97,106,106,97,113,112,105,105,108,120,131,136,129,130,132,125,124,20,0,8,27,51,82,89,86,87,79,70,67,70,74,70,72,79,71,69,89,92,85,89,82,79,89,91,94,96,88,83,87,24,7,27,50,72,92,93,82,77,78,79,75,73,92,87,92,89,85,79,85,95,96,102,90,89,89,92,105,94,84,84,73,25,20,54,63,70,74,72,62,68,84,90,75,77,105,91,84,76,76,87,81,92,99,99,93,86,91,90,93,90,87,85,62,32,32,65,79,77,77,78,74,72,88,89,68,71,83,78,68,65,74,80,80,93,106,95,98,92,84,79,79,67,57,47,42,48,53,73,82,88,84,84,77,70,82,81,65,72,77,74,65,62,63,56,58,68,69,54,74,96,97,80,68,54,39,10,13,69,75,85,84,88,83,74,74,83,94,79,79,71,50,43,41,51,56,37,36,37,51,93,68,86,106,87,68,59,63,61,47,82,76,90,97,88,81,90,89,86,89,91,70,39,26,22,31,102,127,76,40,38,53,77,56,81,103,95,76,69,66,92,74,100,82,91,87,81,82,85,85,80,97,94,42,25,29,29,39,106,109,90,58,42,43,39,35,67,96,97,91,89,83,86,95,120,112,114,100,89,86,86,91,97,97,60,35,33,39,50,53,70,64,79,75,58,54,48,38,63,91,92,93,93,93,86,92,122,117,117,108,100,100,102,102,111,87,40,53,45,56,91,84,87,73,82,85,92,129,99,61,67,90,87,91,97,95,86,93,114,109,109,97,92,94,84,74,103,83,60,86,78,116,115,100,116,97,121,110,150,167,146,78,63,96,95,93,95,90,87,92,115,106,105,105,110,89,56,61,80,57,79,150,123,150,169,148,164,162,164,143,158,151,121,83,77,87,91,93,93,91,89,91,131,119,107,102,92,59,44,52,47,55,106,176,137,158,216,192,188,188,177,174,171,169,162,137,118,95,96,90,92,98,89,97,115,109,108,105,95,47,57,68,51,81,152,148,101,162,200,227,227,220,219,197,191,209,206,208,192,118,89,95,95,97,89,92,116,100,100,100,96,42,43,50,65,146,191,94,105,156,166,234,253,252,234,217,208,196,217,241,229,132,95,97,92,91,88,88,115,95,97,99,87,40,59,69,121,204,182,90,133,157,188,226,237,233,224,217,181,137,193,241,216,142,127,129,123,116,95,82,111,88,99,103,89,64,73,104,181,243,147,119,176,197,207,218,212,186,163,158,171,157,167,218,206,133,116,115,116,123,119,102,114,75,80,90,91,83,58,154,226,243,134,132,214,218,169,160,146,119,116,124,157,195,198,221,212,125,85,81,83,86,105,128,105,82,90,92,89,95,145,227,247,213,136,121,182,169,89,98,91,114,127,99,126,183,228,225,196,117,76,75,66,65,74,121,104,80,86,85,86,102,196,232,199,173,129,104,146,145,86,102,106,131,108,94,113,150,183,171,175,124,72,81,88,92,82,119,104,76,85,81,81,117,118,141,166,156,134,115,148,153,108,95,105,110,102,102,101,101,110,106,111,113,100,111,118,116,116,162,102,80,89,87,90,111,91,97,136,136,151,160,157,131,108,97,101,106,110,108,104,105,104,102,96,103,126,135,133,122,136,184,103,87,89,96,109,106,104,104,121,123,141,174,168,177,112,96,102,94,107,111,109,101,76,60,61,99,142,141,121,113,149,174,107,80,88,99,104,109,112,117,131,145,124,168,197,175,165,144,106,82,97,112,109,74,43,50,73,117,134,116,99,121,165,132,128,88,85,88,90,94,108,117,120,136,118,110,149,121,123,130,109,91,85,88,84,83,92,105,108,112,105,92,102,159,181,107,157,129,100,79,76,88,98,106,106,99,87,82,109,121,99,88,87,108,106,90,95,110,113,107,112,105,93,90,131,183,155,86,174,136,122,111,88,82,94,100,95,92,78,87,99,101,94,83,82,94,108,104,95,91,103,105,108,109,101,107,167,173,93,48,182,150,148,139,120,103,100,108,105,98,88,92,102,101,89,82,81,88,100,104,101,78,85,101,107,112,101,87,155,144,29,19,170,153,161,157,146,135,121,107,95,87,93,98,95,99,91,89,90,102,106,103,110,94,76,84,102,103,69,24,105,133,31,34,139,123,144,153,158,164,153,137,118,99,97,97,92,93,91,91,95,99,98,96,93,84,80,72,81,67,31,5,94,148,62,53,144,129,142,149,168,189,191,181,163,143,132,128,127,123,114,120,124,116,104,103,105,95,90,91,96,87,67,78,140,184,118,92,63,45,43,42,52,63,75,80,89,93,77,76,91,86,79,71,79,76,64,78,75,69,74,77,89,100,108,102,104,108,102,103,20,0,0,8,21,43,45,44,50,44,37,35,36,35,33,37,44,33,27,46,46,39,47,41,37,48,53,58,60,55,50,57,21,0,8,23,41,54,55,47,43,44,46,45,38,48,47,56,56,51,43,47,54,55,62,51,49,50,53,68,58,50,50,42,17,4,25,28,33,35,37,33,33,45,53,40,38,58,47,45,40,41,52,43,51,58,57,52,44,50,49,51,50,50,48,35,21,11,34,39,36,36,40,39,34,49,51,31,33,42,39,29,23,37,49,41,50,66,58,66,51,45,41,40,32,27,23,25,29,24,37,38,45,42,43,37,33,44,39,25,31,31,34,27,21,32,38,36,42,46,36,72,79,64,45,34,24,15,0,4,40,36,43,38,44,40,30,31,46,54,34,39,34,14,17,17,21,23,16,19,18,31,83,80,79,69,49,36,29,37,38,30,49,33,47,53,48,40,47,46,48,46,46,39,19,10,14,17,69,81,47,23,17,30,62,55,60,61,54,39,34,33,59,46,68,41,51,48,44,43,44,44,40,54,53,20,16,16,18,15,56,62,71,49,27,24,24,22,36,59,58,49,48,43,45,56,89,77,82,65,53,50,48,52,60,68,30,9,16,20,30,26,33,37,61,57,41,33,24,21,32,53,53,50,52,52,45,55,94,82,82,70,64,66,68,66,81,68,13,17,17,30,57,49,54,37,46,57,76,106,53,26,25,41,45,51,57,55,46,57,89,73,69,55,57,65,55,42,70,55,14,22,23,77,69,52,73,57,82,71,113,123,94,40,25,52,59,56,57,51,46,56,86,69,68,64,74,65,34,33,44,23,19,59,41,98,122,99,110,115,118,91,97,88,76,50,38,51,61,60,57,52,48,56,98,82,74,65,59,36,22,24,19,25,50,92,57,103,176,149,128,120,112,112,110,109,114,100,76,57,66,59,56,60,48,61,79,66,68,65,62,21,32,40,26,45,113,107,51,121,170,196,186,165,163,144,139,157,164,181,156,78,57,62,60,60,50,56,79,54,55,51,54,21,31,34,37,110,169,71,63,112,135,212,232,219,197,180,170,160,197,229,195,78,49,58,52,49,46,54,79,49,51,51,49,21,41,37,75,166,157,56,84,110,156,208,226,215,201,192,152,100,154,216,173,78,60,62,55,46,30,40,76,47,61,66,60,38,43,66,140,212,115,73,129,164,179,196,195,166,138,128,136,105,105,181,161,71,43,34,33,38,35,41,80,37,48,57,56,48,32,138,212,229,104,88,177,195,142,131,115,85,79,83,110,141,152,197,176,63,16,13,13,16,27,54,72,41,51,53,49,51,110,205,235,194,100,73,138,135,55,60,48,63,74,50,79,142,203,210,169,64,12,16,14,15,19,54,66,38,49,46,45,59,161,210,186,151,92,55,96,105,47,58,59,78,54,45,67,112,160,147,146,86,26,34,43,50,36,50,64,32,48,43,39,76,85,118,147,132,99,69,99,110,66,49,56,58,51,54,55,60,74,65,68,71,37,31,35,39,45,83,65,35,46,44,50,71,52,61,104,107,118,120,113,89,65,53,52,57,61,61,59,59,59,60,48,39,30,14,8,10,44,102,72,44,42,52,72,64,58,57,81,87,105,138,132,141,74,55,56,47,61,65,63,55,38,34,23,25,34,20,4,9,63,99,74,37,48,59,63,62,67,78,96,107,84,133,168,148,133,107,64,40,52,66,61,29,14,25,33,47,39,31,24,42,91,75,76,18,35,48,45,49,68,83,82,100,88,75,110,86,87,92,71,51,43,43,37,36,52,66,62,52,39,39,44,87,114,58,82,26,25,34,41,49,53,56,58,63,59,44,60,77,59,51,52,70,65,48,50,63,65,63,67,54,44,46,70,106,91,48,87,16,19,35,34,35,49,53,53,51,34,41,52,57,54,48,51,60,69,63,53,46,57,59,62,63,54,57,102,105,49,26,91,22,24,28,26,30,51,75,73,57,38,47,62,60,51,49,51,52,60,65,60,36,41,55,61,68,59,46,98,87,9,9,96,34,26,27,34,32,42,52,49,46,57,62,55,57,51,52,54,58,60,61,64,46,33,39,58,62,40,11,60,70,7,20,96,42,30,25,34,36,32,32,38,38,49,56,52,52,51,53,58,60,60,56,43,33,38,29,39,30,11,0,57,94,34,34,116,94,87,67,68,76,72,70,79,82,86,92,94,92,84,90,93,91,83,77,69,55,59,58,65,59,46,57,104,140,84,72};

// For deep-reuse
static q7_t LSH_q7_wt[LSH_L*LSH_H];

char lcd_output_string[50];
LCD_DISCO_F469NI lcd;
// Serial pc(USBTX, USBRX);
 
void resize_rgb565in_rgb888out(uint8_t* camera_image, uint8_t* resize_image)
{
  // offset so that only the center part of rectangular image is selected for resizing
  int width_offset = ((IMG_WIDTH-IMG_HEIGHT)/2)*NUM_IN_CH;

  int yresize_ratio = (IMG_HEIGHT/CNN_IMG_SIZE)*NUM_IN_CH;
  int xresize_ratio = (IMG_WIDTH/CNN_IMG_SIZE)*NUM_IN_CH;
  int resize_ratio = (xresize_ratio<yresize_ratio)?xresize_ratio:yresize_ratio;

  for(int y=0; y<CNN_IMG_SIZE; y++) {
    for(int x=0; x<CNN_IMG_SIZE; x++) {
      int orig_img_loc = (y*IMG_WIDTH*resize_ratio + x*resize_ratio + width_offset);
      // correcting the image inversion here
      int out_img_loc = ((CNN_IMG_SIZE-1-y)*CNN_IMG_SIZE + (CNN_IMG_SIZE-1-x))*NUM_OUT_CH;
      uint8_t pix_lo = camera_image[orig_img_loc];
      uint8_t pix_hi = camera_image[orig_img_loc+1];
      // convert RGB565 to RGB888
      resize_image[out_img_loc] = (0xF8 & pix_hi); 
      resize_image[out_img_loc+1] = ((0x07 & pix_hi)<<5) | ((0xE0 & pix_lo)>>3);
      resize_image[out_img_loc+2] = (0x1F & pix_lo) << 3;
    }
  }
}

void display_image_rgb888(int x_dim, int y_dim, uint8_t* image_data)
{
  for(int y=0; y<y_dim; y++) {
    for(int x=0; x<x_dim; x++) {
      int pix_loc = (y*x_dim + x)*3;
      uint8_t a = 0xFF;
      uint8_t r = image_data[pix_loc];
      uint8_t g = image_data[pix_loc+1];
      uint8_t b = image_data[pix_loc+2];
      int pixel = a<<24 | r<<16 | g<<8 | b;
      lcd.DrawPixel(350+x, 45+y, pixel);
    }
  }
}
 
void display_image_rgb565(int x_dim, int y_dim, uint8_t* image_data)
{
  for(int y=0; y<y_dim; y++) {
    for(int x=0; x<x_dim; x++) {
      int pix_loc = (y*x_dim + x)*2;
      uint8_t a = 0xFF;
      uint8_t pix_lo = image_data[pix_loc];
      uint8_t pix_hi = image_data[pix_loc+1];
      uint8_t r = (0xF8 & pix_hi);
      uint8_t g = ((0x07 & pix_hi)<<5) | ((0xE0 & pix_lo)>>3);
      uint8_t b = (0x1F & pix_lo) << 3;
      int pixel = a<<24 | r<<16 | g<<8 | b;
      // inverted image, so draw from bottom-right to top-left
      lcd.DrawPixel(200-x, 160-y, pixel);
    }
  }
}

const char* cifar10_label[] = {"Plane", "Car", "Bird", "Cat", "Deer", "Dog", "Frog", "Horse", "Ship", "Truck"};
q7_t output_data[10]; //10-classes
int get_top_prediction(q7_t* predictions)
{
  int max_ind = 0;
  int max_val = -128;
  for(int i=0;i<10;i++) {
    //printf("%s %d\n", cifar10_label[i], predictions[i]);
    if(max_val < predictions[i]) {
      max_val = predictions[i];
      max_ind = i;
    }
  }
  return max_ind;
}


#ifdef flash
/* Private function prototypes -----------------------------------------------*/
void SystemClock_Config(void);
static void MX_GPIO_Init(void);
void Error_Handler(void);

void flash_init() {
  /* Configure the system clock */
  SystemClock_Config();

  /* USER CODE BEGIN SysInit */

  /* USER CODE END SysInit */

  /* Initialize all configured peripherals */
  MX_GPIO_Init();

  //Flash_Write_Data(0x08110000, (uint32_t *)buffer, 1);
  Flash_Write_NUM(0x08110000, 32);
}

void SystemClock_Config(void)
{
  RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};

  /** Configure the main internal regulator output voltage 
  */
  __HAL_RCC_PWR_CLK_ENABLE();
  __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
  /** Initializes the CPU, AHB and APB busses clocks 
  */
  RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
  RCC_OscInitStruct.HSEState = RCC_HSE_ON;
  RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
  RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
  RCC_OscInitStruct.PLL.PLLM = 4;
  RCC_OscInitStruct.PLL.PLLN = 180;
  RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2;
  RCC_OscInitStruct.PLL.PLLQ = 2;
  RCC_OscInitStruct.PLL.PLLR = 2;
  if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
  {
    Error_Handler();
  }
  /** Activate the Over-Drive mode 
  */
  if (HAL_PWREx_EnableOverDrive() != HAL_OK)
  {
    Error_Handler();
  }
  /** Initializes the CPU, AHB and APB busses clocks 
  */
  RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
                              |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
  RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
  RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
  RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV4;
  RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV2;

  if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_5) != HAL_OK)
  {
    Error_Handler();
  }
}

/**
  * @brief GPIO Initialization Function
  * @param None
  * @retval None
  */
static void MX_GPIO_Init(void)
{

  /* GPIO Ports Clock Enable */
  __HAL_RCC_GPIOH_CLK_ENABLE();

}

/* USER CODE BEGIN 4 */

/* USER CODE END 4 */

/**
  * @brief  This function is executed in case of error occurrence.
  * @retval None
  */
void Error_Handler(void)
{
  /* USER CODE BEGIN Error_Handler_Debug */
  /* User can add his own implementation to report the HAL error return state */

  /* USER CODE END Error_Handler_Debug */
}

#ifdef  USE_FULL_ASSERT
/**
  * @brief  Reports the name of the source file and the source line number
  *         where the assert_param error has occurred.
  * @param  file: pointer to the source file name
  * @param  line: assert_param error line source number
  * @retval None
  */
void assert_failed(uint8_t *file, uint32_t line)
{ 
  /* USER CODE BEGIN 6 */
  /* User can add his own implementation to report the file name and line number,
     tex: printf("Wrong parameters value: file %s on line %d\r\n", file, line) */
  /* USER CODE END 6 */
}
#endif /* USE_FULL_ASSERT */

#endif
/********/

int main()
{
  // pc.baud(115200);
  lcd.Clear(LCD_COLOR_WHITE);
  HAL_Init();
#ifdef flash
  flash_init();
  #endif

  // wait_ms(100);
  // if( BSP_CAMERA_Init(resolution) == CAMERA_OK ) {
  //     pc.printf("Camera init - SUCCESS\r\n");
  // } else {
  //     pc.printf("Camera init - FAILED\r\n");
  //     lcd.Clear(LCD_COLOR_RED);
  // }
  // wait_ms(100);

  // initialize LSH_wt
  
  // q7_t* p = (q7_t*)input_img;
  // for (int8_t i=0; i < 32;i++){
  //   for (int8_t j=0; j < 32; j++) {
  //     printf("(%d,%d,%d)\t", *p, *(p+1), *(p+2));
  //     p+=3;
  //   }
  //   printf("\n");
  // }
  
  uint8_t cnt = 0;
  //float32_t* re = resized_buffer;
  while(1) {

    srand(time(0));
    q7_t* wt = LSH_q7_wt;
    for (int8_t i=0; i < LSH_L;i++){
      for (int8_t j=0; j < LSH_H; j++) {
        q7_t a = -128;
        q7_t b = 127;
        q7_t x = (rand() % (b-a+1))+ a;
        // q7_t x = rand() & 1;
        *wt = x;
        wt++;
      }
    }
    wt = LSH_q7_wt;
    #ifdef P_LSH
    printf("LSH weights : \n");
    for (int8_t i=0; i < LSH_L;i++){
      for (int8_t j=0; j < LSH_H; j++) {
        printf("%d ", *wt);wt++;
      }
      printf("\n");
    }
    printf("LSH weights end. \n");
    #endif

    // BSP_CAMERA_SnapshotStart(camera_buffer);
    // resize_rgb565in_rgb888out(camera_buffer, resized_buffer);
    // display_image_rgb888(CNN_IMG_SIZE, CNN_IMG_SIZE, resized_buffer);
    // display_image_rgb565(IMG_WIDTH, IMG_HEIGHT, camera_buffer);
    // run neural network 
    //arm_float_to_q7(resized_buffer, (q7_t*)input_img, NUM_OUT_CH*CNN_IMG_SIZE*CNN_IMG_SIZE);
    /*
    for (int i = 0; i < 3072; i ++)
            resized_buffer[i] = buffer[i];
     */       
    
    for (int i = 0; i < 3; i ++)
      for (int j = 0; j < 1024; j ++)
          resized_buffer[j * 3 + i] = buffer[i * 1024 + j];

    printf("[camera_with_nn.cpp] : resized_buffer \n");
    for (int i = 0; i < 5; i ++)
      printf("%hhu ", resized_buffer[i]); puts("");
    printf("[camera_with_nn.cpp] : resized_buffer end\n\n");
    display_image_rgb888(CNN_IMG_SIZE, CNN_IMG_SIZE, resized_buffer);

    float32_t elaspe = run_nn((q7_t*)resized_buffer, output_data, LSH_q7_wt, 0);
    for (int i = 0; i < 10; i ++)
      printf("%d ", output_data[i]); puts(""); 
    // Softmax: to get predictions
    arm_softmax_q7(output_data,IP1_OUT_DIM,output_data);
    int top_ind = get_top_prediction(output_data);
    sprintf(lcd_output_string,"  Prediction: %s       ",cifar10_label[top_ind]);
    lcd.DisplayStringAt(0, LINE(4), (uint8_t *)lcd_output_string, CENTER_MODE);
    sprintf(lcd_output_string,"  Confidence: %.1f%%   ",(output_data[top_ind]/127.0)*100.0);
    lcd.DisplayStringAt(0, LINE(6), (uint8_t *)lcd_output_string, CENTER_MODE);

    sprintf(lcd_output_string,"Avg. Runtime: %.3f (ms)", elaspe);
    lcd.DisplayStringAt(0, LINE(8), (uint8_t *)lcd_output_string, CENTER_MODE);

    // elaspe = run_nn((q7_t*)input_img, output_data, LSH_q7_wt, 1);
    // // Softmax: to get predictions
    // arm_softmax_q7(output_data,IP1_OUT_DIM,output_data);
    // top_ind = get_top_prediction(output_data);
    // sprintf(lcd_output_string,"  Prediction: %s       ",cifar10_label[top_ind]);
    // lcd.DisplayStringAt(0, LINE(10), (uint8_t *)lcd_output_string, CENTER_MODE);
    // sprintf(lcd_output_string,"  Confidence: %.1f%%   ",(output_data[top_ind]/127.0)*100.0);
    // lcd.DisplayStringAt(0, LINE(12), (uint8_t *)lcd_output_string, CENTER_MODE);

    // sprintf(lcd_output_string,"Avg. Runtime: %.3f (ms)", elaspe);
    // lcd.DisplayStringAt(0, LINE(14), (uint8_t *)lcd_output_string, CENTER_MODE);
  }

}


